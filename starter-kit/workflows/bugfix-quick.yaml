# Bugfix Quick Workflow
# Lightweight workflow for simple bug fixes

name: bugfix-quick
displayName: "Quick Bug Fix"
description: "Fast track workflow for simple bug fixes - analyze, fix, verify"

metadata:
  version: "2.0"
  author: "Spec-Kit"
  tags:
    - bugfix
    - quick
    - hotfix

template: bugfix-report.md
defaultAgent: SpecAgent

steps:
  - id: analyze-fix
    name: "1. Analyze & Plan Fix"
    action: call_agent
    agent: SpecAgent
    description: |
      Quick bug analysis:
      
      1. **Identify the bug**: Understand what's broken
      2. **Find root cause**: Locate the problematic code
      3. **Propose fix**: Describe the minimal changes needed
      
      Keep it simple - no lengthy documentation needed.
    outputs:
      - bug_analysis
    # Require approval before applying fix
    requiresApproval: true
    approvalMessage: "Apply the fix? Review the analysis first."

  - id: implement-fix
    name: "2. Implement Fix"
    action: call_agent
    agent: SpecAgent
    description: |
      Apply the bug fix:
      
      - Make minimal, focused changes
      - Follow project conventions
      - Verify the fix works
    inputs:
      source: "bug_analysis"
    outputs:
      - code_fix

  - id: auto-memory
    name: "3. Update Memory"
    action: call_agent
    agent: SpecAgent
    description: |
      Save learnings from this bugfix to project memory:
      
      - **What was the bug?** (brief description)
      - **Root cause** (why it happened)
      - **Solution** (how it was fixed)
      - **Prevention** (how to avoid in future)
      
      Save to `.spec-kit/memory/learnings.md`
    inputs:
      source: "code_fix"
    outputs:
      - memory_update
