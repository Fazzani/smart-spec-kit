# Feature Standard Workflow
# Standard workflow: spec → plan → tasks → implement

name: feature-standard
displayName: "Standard Feature"
description: "Standard feature workflow: specification → plan → tasks → implementation"

metadata:
  version: "3.0"
  author: "Spec-Kit"
  tags:
    - feature
    - specification
    - standard

template: functional-spec.md
defaultAgent: SpecAgent

steps:
  # Step 1: Create Specification
  - id: create-spec
    name: "1. Create Specification"
    action: call_agent
    agent: SpecAgent
    description: |
      Create a functional specification based on user requirements.
      
      Include:
      - Feature summary and objectives
      - User stories with acceptance criteria
      - Functional requirements
      - Non-functional requirements (if applicable)
      - Dependencies and constraints
      
      Mark unclear sections with [NEEDS CLARIFICATION] for review.
    inputs:
      - name: requirements
        description: "Feature description from user"
        required: true
    outputs:
      - spec_document

  # Step 2: Create Implementation Plan
  - id: create-plan
    name: "2. Create Implementation Plan"
    action: call_agent
    agent: PlanAgent
    description: |
      Create a detailed implementation plan based on the specification.
      
      Include:
      - Technical approach
      - Components to create/modify
      - Dependencies and order
      - Risk assessment
      - Estimated effort
    inputs:
      source: "spec_document"
    outputs:
      - plan_document

  # Step 3: Generate Task Breakdown
  - id: generate-tasks
    name: "3. Generate Tasks"
    action: call_agent
    agent: PlanAgent
    description: |
      Break down the plan into atomic, actionable tasks.
      
      Each task should:
      - Be completable in 1-2 hours
      - Have clear acceptance criteria
      - Be independent when possible
      - Include file paths if known
    inputs:
      source: "plan_document"
    outputs:
      - tasks_document
    # Require approval before implementation
    requiresApproval: true
    approvalMessage: "⚠️ Review tasks before starting implementation"

  # Step 4: Implement
  - id: implement
    name: "4. Implement"
    action: call_agent
    agent: SpecAgent
    description: |
      Implement the tasks one by one.
      
      For each task:
      - Read the task description
      - Implement following project conventions
      - Update task status when complete
      - Proceed to next task
    inputs:
      source: "tasks_document"
    outputs:
      - implementation
